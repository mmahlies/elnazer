<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<title>Gravity in jQuery</title>
		<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1' />
		<link href="http://localhost/CI/application/views/template/displayQuestion/css/style.css" rel="stylesheet" type="text/css" media="screen" />
		<script src="http://localhost/CI/application/views/template/displayQuestion/js/jquery-1.7.2.js" type="text/javascript"></script>
		<script src="http://localhost/CI/application/views/template/displayQuestion/js/jquery.easing.1.3.js" type="text/javascript"></script>
		
		//<link href='http://localhost/CI/application/views/template/displayQuestion/css/gravity.css' rel='stylesheet' type='text/css' />
		//<script type="text/javascript">
		
var Gravity = {
		
init: function() {
		
	$("#air .block_container").css({
		height: $("#air").outerHeight() + "px"
	});
		
	$(".handle").mouseenter(function(i) {
		//animate the cutting of the string
		$(this).animate({
			height: "20px"
		}, {
			duration: 1500,
			easing: "easeOutElastic"
		});
			
		var block = $(this).parent().next();
		
		var yposBlock = $(block).position()['top'] - $("#air").position()['top'];
		var fallDist = ($("#air").outerHeight() - yposBlock) - $(block).outerHeight();
			
		//let the block fall
		$(block).stop().animate({
			marginTop: fallDist+"px"
		}, {
			duration: 1000,
			easing: "easeOutBounce"
		});
	});
	
	},
	
	reset: function() {
		$(".handle").stop().animate({
			height: "50px"
		},{
			duration: 1000,
			easing: "easeInElastic"
		});
		
		$(".block").stop().animate({
			marginTop: "0px"
		},{
			duration: 1000,
			easing: "easeInBounce"
		});
	}

}

$(document).ready(function(){
	Gravity.init();
});
		
		</script>
	</head>
	
	<body>
	
<div id = 'question'>QQQ</div>	
	
		<div style='padding: 15px;'>
		
			<div class='content'>
				<p><?php echo 'ddd';?></p>
				
				<p><a href="javascript: Gravity.reset()">Click here to rewind</a></p>
				
				<div id="air">
					<div style='padding-left: 100px;' class="block_container">
						<div class="block">
							Block 1
						</div>
						<div class='handle_wrap'>
							<div class="handle">
								&nbsp;
							</div>
						</div>
						<div class="block">
							Block 2
						</div>
					</div>
					
					<div style='padding-left: 100px' class='block_container'>
						<div class="block">
							Block 3
						</div>
						<div class='handle_wrap'>
							<div class="handle">
								&nbsp;
							</div>
						</div>
						<div class="block">
							Block 4
						</div>
					</div>
					
					<div style='padding-left: 100px' class='block_container'>
						<div class="block">
							Block 5
						</div>
						<div class='handle_wrap'>
							<div class="handle">
								&nbsp;
							</div>
						</div>
						<div class="block">
							Block 6
						</div>
					</div>
				</div>
				<div id="ground">
					&nbsp;
				</div>
				
				<br />

			</div>
			
		</div>
	</body>
</html>
